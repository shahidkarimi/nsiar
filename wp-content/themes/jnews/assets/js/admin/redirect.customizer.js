!function(e){"use strict";e.redirectTag||(e.redirectTag={}),e.redirectTag={redirectTagCache:[],dialogOpen:!1},e.redirectTag.customizerRedirect=function(r,i){var t=e.redirectTag,n=jnews_redirect[r];n.flag?t.refreshPreviewer(i,n.flag):t.dialogOpen||(t.dialogOpen=!0,vex.dialog.confirm({message:jnews_redirect.setting.change_notice,showCloseButton:!1,callback:function(e){e?t.redirectPreview(n.url):(t.dialogOpen=!1,t.refreshPreviewer(i,n.flag))}}))},e.redirectTag.refreshPreviewer=function(e,r){e&&r&&parent.wp.customize.previewer.refresh()},e.redirectTag.redirectPreview=function(e){var r=new wp.customize.Preview({url:e,channel:wp.customize.settings.channel});r.send("scroll",0),r.send("url",e)},e.redirectTag.bindSetting=function(r){var i=e.redirectTag;e(r.id,(function(e){e.bind((function(){i.customizerRedirect(r.redirect,r.refresh)}))}))},e.redirectTag.initialize=function(){e.preview.bind("register-redirect-tag",(function(r){e.redirectTag.bindSetting(r)})),e.preview.bind("register-all-redirect-tag",(function(r){_.each(r,(function(r){e.redirectTag.bindSetting(r)}))}))},e.bind("preview-ready",(function(){e.redirectTag.initialize()}))}(wp.customize);