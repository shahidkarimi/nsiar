!function(e){"use strict";e((function(){var t=e("#widgets-right, #menu-management, #edittag, #your-profile"),n=e(window),i=function(){var t=e(".widget-overlay-wrapper"),i=t.height(),a=n.height();t.css({top:(a-i)/2})};e(".widget-overlay .close").on("click",(function(){e(".widget-overlay").fadeOut()})),e(".addwidgetconfirm").on("click",(function(){var t=e(".textwidgetconfirm").val();if(""!==t&&function(t){var n=0;return e(".widget-content-wrapper li span").each((function(){e(this).text().toLowerCase()===t.toLowerCase()&&n++})),0===n}(t)){var n="<li><span>"+t+"</span><input type='hidden' name='widgetlist[]' value='"+t+"'><div class='remove fa fa-ban'></div></li>";e(".widget-content-wrapper ul").append(n),e(".textwidgetconfirm").val("")}e(".widget-adding-content").hide(),e(".widget-content-list").show()})),e(".addwidget").on("click",(function(){e(".widget-adding-content").show(),e(".widget-content-list").hide(),e(".textwidgetconfirm").val("")})),e(".widget-overlay").on("click",".widget-content-wrapper .remove",(function(){var t=e(this),n=e(t.parents("li"));n.fadeOut((function(){n.remove()}))})),e(".sidebarwidget").on("click",(function(){e(".widget-overlay").fadeIn(),0===e(".widget-content-wrapper li").length?(e(".widget-adding-content").show(),e(".widget-content-list").hide()):(e(".widget-adding-content").hide(),e(".widget-content-list").show()),i()})),n.on("resize",i),t.on("click",".jnews_token_access",(function(t){t.preventDefault();var n,i,a,o,s=e(this),c=s.closest(".widget-content");if(s.hasClass("facebook")){var d=c.find('.type-text[data-field="fb_id"] input'),r=c.find('.type-text[data-field="fb_secret"] input');d.length>0&&r.length>0?(d=d.val(),r=r.val()):(d=(c=s.closest(".accordion-section-content")).find('input[data-customize-setting-link="setting(jnews_social_like_section)(jnews_option[single_social_share_fb_id])"]').val(),r=c.find('input[data-customize-setting-link="setting(jnews_social_like_section)(jnews_option[single_social_share_fb_secret])"]').val()),o={client_id:d,client_secret:r,grant_type:"client_credentials"},n="https://graph.facebook.com/oauth/access_token",i="fb"}e.ajax({url:n,data:o,dataType:undefined,type:"POST",beforeSend:function(e){s.parent().find(".jnews-spinner").addClass("active")}}).done((function(e,t,n){"fb"==i&&(a=e.access_token),c.hasClass("accordion-section-content")?c.find('input[data-customize-setting-link="setting(jnews_social_like_section)(jnews_option[single_social_share_fb_token])"]').val(a):c.find('.type-text[data-field="'+i+'_key"] input').val(a)})).fail((function(e,t,n){window.alert("Info Message: "+n)})).always((function(e,t,n){s.parent().find(".jnews-spinner").removeClass("active")}))})),t.on("click",".jnews_instagram_access_token",(function(e){if(e.preventDefault(),"undefined"!=typeof jnewsinstagramoption){var t="https://api.instagram.com/oauth/authorize?app_id=423965861585747&redirect_uri=https://api.smashballoon.com/instagram-basic-display-redirect.php&response_type=code&scope=user_profile,user_media&state="+jnewsinstagramoption.instagram_callback;window.open(t,"_blank").focus()}})),t.add(".postbox-container,#translation_setting").on("click",".jnews_customizer_activate_license, .control-section-link.locked a",(function(e){if(e.preventDefault(),"undefined"!=typeof jnewsoption){var t=jnewsoption.jnews_dashboard;window.open(t,"_blank").focus()}})),t.on("click",".jnews_instagram_purge_cache",(function(t){t.preventDefault(),e.ajax({url:ajaxurl,type:"post",dataType:"json",data:{action:"jnews_instagram"}})}));!function(){if(window.location.href.indexOf("#access_token=")>-1){var e=window.location.href.split("#access_token=")[1];prompt("Your Instagram Access Token:",e)}}()}))}(jQuery);