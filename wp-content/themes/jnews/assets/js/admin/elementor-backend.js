!function(e){"use strict";function n(){elementor.hooks.addAction("panel/open_editor/widget/socialcounter",(function(n){!function(n){e(n.$el).on("click",".jnews_token_access.facebook",(function(n){n.preventDefault();var t,a=e(this),o=a.parents("#elementor-controls"),i="https://graph.facebook.com/oauth/access_token",r={client_id:o.find(".elementor-control-fb_id input").val(),client_secret:o.find(".elementor-control-fb_secret input").val(),grant_type:"client_credentials"};e.ajax({url:i,data:r,dataType:"json",type:"POST",beforeSend:function(e){a.parent().find(".jnews-spinner").addClass("active")}}).done((function(e,n,a){t=e.access_token,o.find(".elementor-control-fb_key input").val(t)})).fail((function(e,n,t){window.alert("Info Message: "+t)})).always((function(e,n,t){a.parent().find(".jnews-spinner").removeClass("active")}))}))}(n)}))}function t(e,n){if(!e.length||e.length<3)return n();wp.ajax.send(this.ajax,{data:{query:e,nonce:this.nonce}}).done((function(e){n(e)}))}function a(n,a){a=function(e){if(function(e){return void 0!==e[0]&&void 0!==e[0].value&&void 0!==e[0].text}(e))return e;var n=[];return _.each(e,(function(e,t){n.push({value:t,text:e})})),n}(a);var o=e(n),i=o.data("multiple"),r=o.data("ajax"),c=o.data("nonce"),d={plugins:["drag_drop","remove_button"],multiple:i,hideSelected:!0,options:a,render:{option:function(e){return"<div><span>"+e.text+"</span></div>"}}};""!==r&&(d.load=t.bind({ajax:r,nonce:c}),d.create=!0,d.onItemAdd=function(){if("jeg_find_review"===r){var e=this.items;if(e.length>1)for(var n=0;n<e.length;n++)this.removeItem(e[n]),this.refreshOptions()}}),e(n).selectize(d)}function o(n){var t=e(n).val(),o=e(n).parent(),i=e(o).find(".data-option").text(),r=e(n).data("retriever"),c=e(n).data("nonce");(i=JSON.parse(i),""!==t&&0===i.length)?function(e,n,t){return wp.ajax.send(e,{data:{value:n,nonce:t}})}(r,t,c).done((function(e){a(n,e)})):a(n,i)}function i(n){"SELECT"===e(n).prop("tagName")?function(n){var a=e(n),o=a.data("ajax"),i=a.data("nonce"),r={allowEmptyOption:!0};""!==o&&(r.load=t.bind({ajax:o,nonce:i}),r.create=!0),a.selectize(r)}(n):o(n)}function r(e){var n=12;return e<34?n=4:e<67&&(n=8),n}var c;window.open_control=function(n){var t=n.parent();t.hasClass("type-select")&&i(n),t.find("input.input-sortable").on("change",(function(){e(this).trigger("input")}))},e(window).on("request:edit",(elementor.hooks.addAction("panel/open_editor/widget",(function(n){e(n.$el).find(".elementor-control-input-wrapper > input").each((function(){window.open_control(e(this))}))})),n(),elementor.hooks.addFilter("elements/column/render/droppable-item-selector",(function(e){return"> .jegStickyHolder > .theiaStickySidebar > .elementor-column-wrap > .elementor-widget-wrap > .elementor-element, > .jegStickyHolder > .theiaStickySidebar >.elementor-column-wrap > .elementor-widget-wrap > .elementor-empty-view > .elementor-first-add, "+e})),c=12,elementor.channels.data.on("column:before:drop",(function(n){var t=e(n.delegateTarget).data("col");c=r(t)})),void e.ajaxPrefilter((function(n,t,a){if("elementor_ajax"===t.data.action){var o=JSON.parse(t.data.actions),i=Object.values(o)[0];if("render_widget"===i.action){var d=e(elementor.$previewContents.get(0).activeElement).find("[data-id='"+i.data.data.id+"']");if(d.length>0){var l=e(d).parents(".elementor-column").data("col");c=r(l)}n.data+="&colwidth="+c}}c=12}))))}(jQuery);